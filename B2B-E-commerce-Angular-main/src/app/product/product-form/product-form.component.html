<div class="form-container">
  <h2>{{ isEditMode ? 'Edit' : 'Add' }} Product</h2>

  <form (ngSubmit)="onSubmit()" class="product-form">
    <div class="form-row">
      <div class="form-group">
        <label for="name">Product Name</label>
        <input type="text" id="name" [(ngModel)]="product.name" name="name" required>
      </div>

      <div class="form-group">
        <label>Price</label>
        <input type="number" step="0.01" [(ngModel)]="product.price" name="price" required>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Quantity</label>
        <input type="number" [(ngModel)]="product.quantity" name="quantity" required>
      </div>
      <div class="form-group">
        <label>Category</label>
        <select [(ngModel)]="product.productCategory" name="category" [compareWith]="compareById">
          <option [ngValue]="null">--Select Category--</option>
          <option *ngFor="let category of categories" [ngValue]="category">
            {{ category.name || category.categoryName }}
          </option>
        </select>
      </div>


      <div class="form-group">
        <label>Sub Category</label>
        <select [(ngModel)]="product.productSubCategory" name="subCategory" [compareWith]="compareById">
          <option [ngValue]="null">-- Select Sub Category --</option>
          <option *ngFor="let subCategory of subCategories" [ngValue]="subCategory">
            {{ subCategory.name }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea [(ngModel)]="product.description" name="description" rows="4"></textarea>
    </div>

    <div class="form-group image-upload">
      <label>Product Image</label>
      <div class="upload-container">
        <div class="image-preview" *ngIf="previewUrl">
          <img [src]="previewUrl" alt="Preview">
        </div>
        <div class="file-input">
          <input type="file" name="image" (change)="onFileSelected($event)" accept="image/*">
          <button type="button" class="upload-btn">Choose Image</button>
        </div>
      </div>
    </div>


    <div class="form-actions">
      <button type="submit" class="submit-btn">{{ isEditMode ? 'Update' : 'Save' }}</button>
      <button type="button" class="cancel-btn" (click)="router.navigate(['/products-management'])">Cancel</button>
    </div>
  </form>
</div>